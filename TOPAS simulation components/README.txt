All of the files needed for the TOPAS simulation with the Derenzo and XCAT phantom are contained in the “TOPAS simulation components” folder. The tuple recording extension is inside of “TOPAS simulation components/topas_extensions”. Follow the instructions contained in TOPAS for compiling with extensions to use this extension. 

Inside of the of the “TOPAS simulation components/derenzo” directory is all of the files needed to run a simulation of the LAB or LYSO scanner in TOPAS. “CrystalDerenzoScanner.txt” is a parameter file for the LYSO scanner and will produce a tuple of the interaction locations inside of the detector volume, which can later be read in using the classical_pet code in the “Compton Chain Algorithm and Image Creation” directory. “LABDerenzoScanner.txt” is a parameter file defining the LAB scanner. When TOPAS is run using this file it will produce the interaction locations to be read in by the “compton_reconstruction” code also contained in the “Compton Chain Algorithm and Image Creation” directory. 

The “derenzo_300keV_100.topas” file contains the TOPAS definition for the Derenzo phantom. It was created using the “build_derenzo.py” file reading in positions from “Delorzo2.txt”. The python file prints to stdout the correct contents for a TOPAS file containing the specified Derenzo. 

